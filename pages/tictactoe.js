webpackJsonp([3],[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=o.AppRegistry,s=o.StyleSheet,u=o.Text,l=o.TouchableHighlight,c=o.View,p=o.Platform,h=function(){function t(){r(this,t);for(var e=3,n=Array(e),i=0;e>i;i++){for(var o=Array(e),a=0;e>a;a++)o[a]=0;n[i]=o}this.grid=n,this.turn=1}return i(t,[{key:"mark",value:function(t,e,n){return this.grid[t][e]=n,this}},{key:"hasMark",value:function(t,e){return 0!==this.grid[t][e]}},{key:"winner",value:function(){for(var t=0;3>t;t++)if(0!==this.grid[t][0]&&this.grid[t][0]===this.grid[t][1]&&this.grid[t][0]===this.grid[t][2])return this.grid[t][0];for(var t=0;3>t;t++)if(0!==this.grid[0][t]&&this.grid[0][t]===this.grid[1][t]&&this.grid[0][t]===this.grid[2][t])return this.grid[0][t];return 0!==this.grid[0][0]&&this.grid[0][0]===this.grid[1][1]&&this.grid[0][0]===this.grid[2][2]?this.grid[0][0]:0!==this.grid[0][2]&&this.grid[0][2]===this.grid[1][1]&&this.grid[0][2]===this.grid[2][0]?this.grid[0][2]:null}},{key:"tie",value:function(){for(var t=0;3>t;t++)for(var e=0;3>e;e++)if(0===this.grid[t][e])return!1;return null===this.winner()}}]),t}(),f=o.createClass({displayName:"Cell",cellStyle:function(){switch(this.props.player){case 1:return m.cellX;case 2:return m.cellO;default:return null}},textStyle:function(){switch(this.props.player){case 1:return m.cellTextX;case 2:return m.cellTextO;default:return{}}},textContents:function(){switch(this.props.player){case 1:return"X";case 2:return"O";default:return""}},render:function(){return o.createElement(l,{onPress:this.props.onPress,underlayColor:"transparent",activeOpacity:.5},o.createElement(c,{style:[m.cell,this.cellStyle()]},o.createElement(u,{style:[m.cellText,this.textStyle()]},this.textContents())))}}),d=o.createClass({displayName:"GameEndOverlay",render:function(){var t=this.props.board,e=t.tie(),n=t.winner();if(!n&&!e)return o.createElement(c,null);var r;return r=e?"It's a tie!":(1===n?"X":"O")+" wins!",o.createElement(c,{style:m.overlay},o.createElement(u,{style:m.overlayMessage},r),o.createElement(l,{onPress:this.props.onRestart,underlayColor:"transparent",activeOpacity:.5},o.createElement(c,{style:m.newGame},o.createElement(u,{style:m.newGameText},"New Game"))))}}),v=o.createClass({displayName:"TicTacToeApp",getInitialState:function(){return{board:new h,player:1}},restartGame:function(){this.setState(this.getInitialState())},nextPlayer:function(){return 1===this.state.player?2:1},handleCellPress:function(t,e){this.state.board.hasMark(t,e)||this.setState({board:this.state.board.mark(t,e,this.state.player),player:this.nextPlayer()})},render:function(){var t=this,e=this.state.board.grid.map(function(e,n){return o.createElement(c,{key:"row"+n,style:m.row},e.map(function(e,r){return o.createElement(f,{key:"cell"+r,player:e,onPress:t.handleCellPress.bind(t,n,r)})}))});return o.createElement(c,{style:m.container},o.createElement(u,{style:m.title},"EXTREME T3"),o.createElement(c,{style:m.board},e),o.createElement(d,{board:this.state.board,onRestart:this.restartGame}))}}),m=s.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"white"},title:{fontFamily:"Chalkduster",fontSize:39,marginBottom:20},board:{padding:5,backgroundColor:"#47525d",borderRadius:10},row:{flexDirection:"row"},cell:{width:80,height:80,borderRadius:5,backgroundColor:"#7b8994",margin:5,flex:1,justifyContent:"center",alignItems:"center"},cellX:{backgroundColor:"#72d0eb"},cellO:{backgroundColor:"#7ebd26"},cellText:{borderRadius:5,fontSize:50,fontFamily:"AvenirNext-Bold"},cellTextX:{color:"#19a9e5"},cellTextO:{color:"#b9dc2f"},overlay:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(221, 221, 221, 0.5)",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"},overlayMessage:{fontSize:40,marginBottom:20,marginLeft:20,marginRight:20,fontFamily:"AvenirNext-DemiBold",textAlign:"center"},newGame:{backgroundColor:"#887766",padding:20,borderRadius:5},newGameText:{color:"white",fontSize:20,fontFamily:"AvenirNext-DemiBold"}});if(a.registerComponent("TicTacToeApp",function(){return v}),"web"==p.OS){var g=document.createElement("div");document.body.appendChild(g),a.runApplication("TicTacToeApp",{rootTag:g})}else"weex"==p.OS&&a.runApplication("TicTacToeApp",{rootTag:__hack__weexApp});t.exports=v}]);
//# sourceMappingURL=tictactoe.js.map